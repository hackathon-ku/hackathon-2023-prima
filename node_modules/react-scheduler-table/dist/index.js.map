{"version":3,"file":"index.js","sources":["../node_modules/style-inject/dist/style-inject.es.js","../src/utils.js","../src/ReservedTime.jsx","../src/Timetable.jsx"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","export const timeToStringParser = is12hours => time => {\r\n\tconst timeStr = time.toString();\r\n\tlet m = \"00\";\r\n\tif (timeStr.includes(\".\")) {\r\n\t\tconst hourPart = \"0\" + timeStr.slice(timeStr.indexOf(\".\"));\r\n\t\tm = 60 * hourPart;\r\n\t}\r\n\tlet h = parseInt(time, 10) < 10 ? \"0\" + parseInt(time, 10) : parseInt(time, 10);\r\n\tlet parsedTime = `${h}:${m}`;\r\n\r\n\treturn is12hours ? tConv12(parsedTime) : parsedTime;\r\n};\r\n\r\nexport const timeToIntParser = is12hours => time => {\r\n\ttime = is12hours ? tConv24(time) : time;\r\n\tconst timeArr = time.split(':');\r\n\tconst h = parseInt(timeArr[0], 10);\r\n\tconst m = parseInt(timeArr[1], 10) / 60;\r\n\r\n\treturn h + m;\r\n}\r\n\r\nconst tConv12 = time24 => {\r\n  var ts = time24;\r\n  var H = +ts.substr(0, 2);\r\n  var h = (H % 12) || 12;\r\n  h = (h < 10)?(\"0\"+h):h;  // leading 0 at the left for 1 digit hours\r\n  var ampm = H < 12 ? \" AM\" : \" PM\";\r\n  ts = h + ts.substr(2, 3) + ampm;\r\n  return ts;\r\n};\r\n\r\nconst tConv24 = time12h => {\r\n  const [time, modifier] = time12h.split(' ');\r\n\r\n  let [hours, minutes] = time.split(':');\r\n\r\n  if (hours === '12') {\r\n    hours = '00';\r\n  }\r\n\r\n  if (modifier === 'PM') {\r\n    hours = parseInt(hours, 10) + 12;\r\n  }\r\n\r\n  return `${hours}:${minutes}`;\r\n}\r\n\r\nexport const ID = function() {\r\n\treturn (\r\n\t\t\"_\" +\r\n\t\tMath.random()\r\n\t\t\t.toString(36)\r\n\t\t\t.substr(2, 9)\r\n\t);\r\n};","import React, { Component } from 'react';\r\n\r\nimport { timeToStringParser } from './utils';\r\nimport { ReactComponent as ClearIcon } from './clear.svg';\r\nimport  styles from'./ReservedTime.css';\r\n\r\nconst ReservedTime = ({ cellHeight, className, content, time, hourSplit, is12hours, removeReserved }) => {\r\n\tconst blockHeight =\r\n\t\tcellHeight * (((time.end - time.start) * 1) / hourSplit) - 3 + \"px\";\r\n\r\n\tconst style = {\r\n\t\theight: blockHeight\r\n  };\r\n  const timeParser = timeToStringParser(is12hours);\r\n\r\n\treturn (\r\n\t\t<div className={`${className || ''} ` + styles.ReservedTime} style={style}>\r\n\t\t\t<button\r\n\t\t\t\tclassName={styles.ReservedTime__delete}\r\n\t\t\t\tonClick={() => removeReserved(time.id)}\r\n\t\t\t>\r\n\t\t\t\t<ClearIcon />\r\n\t\t\t</button>\r\n\t\t\t{content({...time, parsedStart: timeParser(time.start), parsedEnd: timeParser(time.end)})}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default ReservedTime;","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport styles from \"./Timetable.css\";\r\nimport { ReactComponent as ClearIcon } from './clear.svg';\r\n\r\nimport { timeToStringParser, timeToIntParser, ID } from \"./utils.js\";\r\nimport ReservedTime from \"./ReservedTime.jsx\";\r\n\r\nconst settings = {\r\n\tcellHeight: 40,\r\n\tstartDay: \"01:00\",\r\n\tendDay: \"24:00\",\r\n\thourSplit: 1,\r\n\tcolumnCnt: 1,\r\n\tis12hours: false\r\n};\r\n\r\nexport class Timetable extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tnewStartTime: null,\r\n\t\t\tnewEndTime: null,\r\n\t\t\tactiveColumn: null,\r\n\t\t\treserved: this.props.reserved || []\r\n\t\t};\r\n\r\n\t\tthis.addTime = this.addTime.bind(this);\r\n\t\tthis.resetTime = this.resetTime.bind(this);\r\n\t\tthis.addToReserved = this.addToReserved.bind(this);\r\n\t\tthis.removeFromReserved = this.removeFromReserved.bind(this);\r\n\t}\r\n\r\n\tremoveFromReserved(id) {\r\n\t\tconst updatedReserved = this.state.reserved.filter(item => item.id !== id);\r\n\t\tthis.setState({ reserved: updatedReserved });\r\n\t}\r\n\r\n\taddToReserved() {\r\n\t\tconst { activeColumn, newStartTime, newEndTime, reserved } = this.state;\r\n\t\tconst { hourSplit } = this.settings;\r\n\r\n\t\tconst isNewTimeValid = (newTime, reserved) => {\r\n\t\t\tlet valid = true;\r\n\t\t\tfor (let i = 0; i < reserved.length; i++) {\r\n\t\t\t\tconst time = reserved[i];\r\n\t\t\t\tif (newTime.column === time.column) {\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\t(newTime.start >= time.start && newTime.start < time.end) ||\r\n\t\t\t\t\t\t(newTime.end > time.start && newTime.end <= time.end) ||\r\n\t\t\t\t\t\t(newTime.start < time.start && newTime.end > time.end)\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tvalid = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn valid;\r\n\t\t};\r\n\r\n\t\tconst newTime = {\r\n\t\t\tid: ID(),\r\n\t\t\tstart: newStartTime,\r\n\t\t\tend: newEndTime + hourSplit,\r\n\t\t\tcolumn: activeColumn\r\n\t\t};\r\n\r\n\t\tif (isNewTimeValid(newTime, reserved)) {\r\n\t\t\tconst newReserved = [...reserved, newTime];\r\n\t\t\tthis.setState({ reserved: newReserved });\r\n\t\t\tthis.resetTime();\r\n\t\t\tif (this.props.onSaveTime) this.props.onSaveTime(newReserved);\r\n\t\t} else {\r\n\t\t\talert(\"Time is not valid\");\r\n\t\t}\r\n\t}\r\n\r\n\taddTime(time, column) {\r\n\t\tconst { activeColumn, newStartTime, newEndTime, reserved } = this.state;\r\n\t\tlet newTimeObj = {};\r\n\t\t// chech if new column === column from state OR activeColumn is falsy\r\n\t\tif (column === activeColumn || !activeColumn) {\r\n\t\t\t// check if new 'end' time is not set\r\n\t\t\tif (!newEndTime) {\r\n\t\t\t\t// check if new start time exist and new added time greater than start time\r\n\t\t\t\tif (newStartTime && time > newStartTime) {\r\n\t\t\t\t\tnewTimeObj = { newEndTime: time };\r\n\t\t\t\t\tthis.setState({ ...newTimeObj });\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnewTimeObj = { newStartTime: time, activeColumn: column };\r\n\t\t\t\t\tthis.setState({ ...newTimeObj });\r\n\t\t\t\t}\r\n\t\t\t} else if (\r\n\t\t\t\t// check if new 'end' time is exist AND new 'end' time is not less than 'start' time\r\n\t\t\t\tnewEndTime &&\r\n\t\t\t\ttime < newStartTime\r\n\t\t\t) {\r\n\t\t\t\tnewTimeObj = { newStartTime: time, newEndTime: null };\r\n\t\t\t\tthis.setState({ ...newTimeObj });\r\n\t\t\t} else {\r\n\t\t\t\tnewTimeObj = { newEndTime: time };\r\n\t\t\t\tthis.setState({ ...newTimeObj });\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tnewTimeObj = {\r\n\t\t\t\tnewStartTime: time,\r\n\t\t\t\tnewEndTime: null,\r\n\t\t\t\tactiveColumn: column\r\n\t\t\t};\r\n\t\t\tthis.setState({ ...newTimeObj });\r\n\t\t}\r\n\t\tnewTimeObj = {\r\n\t\t\tactiveColumn,\r\n\t\t\tnewStartTime,\r\n\t\t\tnewEndTime,\r\n\t\t\treserved,\r\n\t\t\t...newTimeObj\r\n\t\t};\r\n\t\tif (this.props.onAddTime) this.props.onAddTime(newTimeObj);\r\n\t}\r\n\r\n\tresetTime() {\r\n\t\tthis.setState({ newStartTime: null, newEndTime: null, activeColumn: null });\r\n\t}\r\n\r\n\tisTimeReserved(time, column) {\r\n\t\tlet bool = false;\r\n\t\tconst reserved = this.state.reserved;\r\n\t\tfor (let i = 0; i < reserved.length; i++) {\r\n\t\t\tif (\r\n\t\t\t\treserved[i].column === column &&\r\n\t\t\t\ttime >= reserved[i].start &&\r\n\t\t\t\ttime <= reserved[i].end - this.settings.hourSplit\r\n\t\t\t) {\r\n\t\t\t\tbool = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn bool;\r\n\t}\r\n\r\n\trenderTimeCell(time) {\r\n\t\tconst { cellHeight, columnCnt, hourSplit, is12hours } = this.settings;\r\n\t\tconst { newStartTime, newEndTime, activeColumn } = this.state;\r\n\r\n\t\tconst shouldAddButtonRendered = (time, column) => {\r\n\t\t\tlet bool =\r\n\t\t\t\t((time !== newStartTime &&\r\n\t\t\t\t\ttime !== newEndTime &&\r\n\t\t\t\t\t!(time >= newStartTime && time <= newEndTime)) ||\r\n\t\t\t\t\tactiveColumn !== column) &&\r\n\t\t\t\t!this.isTimeReserved(time, column);\r\n\t\t\treturn bool;\r\n\t\t};\r\n\r\n\t\tconst cellStatus = column => {\r\n\t\t\tlet status = \"\";\r\n\t\t\tif (column === activeColumn) {\r\n\t\t\t\tif (time === newStartTime) status = \"start\";\r\n\t\t\t\telse if (time === newEndTime) status = \"end\";\r\n\t\t\t\telse if (time > newStartTime && time < newEndTime) status = \"between\";\r\n\t\t\t}\r\n\t\t\treturn status;\r\n\t\t};\r\n\r\n\t\tconst cellReservedStatus = cellColumn => {\r\n\t\t\tlet status = \"\";\r\n\t\t\tconst reserved = this.state.reserved;\r\n\t\t\tfor (let i = 0; i < reserved.length; i++) {\r\n\t\t\t\tconst { start, end, column } = reserved[i];\r\n\t\t\t\tif (cellColumn === column) {\r\n\t\t\t\t\tif (time === start) status = \"reserved-start\";\r\n\t\t\t\t\telse if (time === end - hourSplit) status = \"reserved-end\";\r\n\t\t\t\t\telse if (time > start && time < end - hourSplit)\r\n\t\t\t\t\t\tstatus = \"reserved-between\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn status;\r\n\t\t};\r\n\r\n\t\tconst getReservedTime = cellColumn => {\r\n\t\t\tconst reserved = this.state.reserved;\r\n\t\t\tfor (let i = 0; i < reserved.length; i++) {\r\n\t\t\t\tconst { start, column } = reserved[i];\r\n\t\t\t\tif (cellColumn === column && time === start) return reserved[i];\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// const activeTime = () =>\r\n\t\t// \tnewStartTime && !newEndTime\r\n\t\t// \t\t? `${this.timeToStringParser(newStartTime)} - `\r\n\t\t// \t\t: newStartTime && newEndTime\r\n\t\t// \t\t? `${this.timeToStringParser(newStartTime)} - ${this.timeToStringParser(\r\n\t\t// \t\t\t\tnewEndTime + hourSplit\r\n\t\t// \t\t  )}`\r\n\t\t// \t\t: \"\";\r\n\r\n\t\tlet arr = [];\r\n\t\tfor (let column = 1; column <= columnCnt; column++) {\r\n\t\t\tarr.push(\r\n\t\t\t\t<td\r\n\t\t\t\t\tdata-test=\"TimeCell\"\r\n\t\t\t\t\tclassName={`${styles.TimeCell} ${cellStatus(column) ? styles[cellStatus(column)] : ''} ${cellReservedStatus(column)}`}\r\n\t\t\t\t\tkey={column}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className={styles.TimeCell__wrapper}>\r\n\t\t\t\t\t\t{cellReservedStatus(column) === \"reserved-start\" ? (\r\n\t\t\t\t\t\t\t<ReservedTime\r\n\t\t\t\t\t\t\t\tcellHeight={cellHeight}\r\n\t\t\t\t\t\t\t\tclassName={this.props.classNameSavedTime}\r\n\t\t\t\t\t\t\t\tcontent={this.props.savedTimeContent}\r\n\t\t\t\t\t\t\t\ttime={getReservedTime(column)}\r\n\t\t\t\t\t\t\t\thourSplit={hourSplit}\r\n\t\t\t\t\t\t\t\tis12hours={is12hours}\r\n\t\t\t\t\t\t\t\tremoveReserved={this.removeFromReserved}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t{cellStatus(column) === \"start\" ? (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tdata-test=\"TimeCell__reset-button\"\r\n\t\t\t\t\t\t\t\t\tclassName={styles.TimeCell__clear}\r\n\t\t\t\t\t\t\t\t\tonClick={this.resetTime}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<ClearIcon />\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t{cellStatus(column) === \"end\" ? (\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tdata-test=\"TimeCell__save-button\"\r\n\t\t\t\t\t\t\t\tclassName={styles.TimeCell__save}\r\n\t\t\t\t\t\t\t\tonClick={this.addToReserved}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tSave\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t{shouldAddButtonRendered(time, column) ? (\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tdata-test=\"TimeCell__add-time-button\"\r\n\t\t\t\t\t\t\t\tclassName={styles.TimeCell__button}\r\n\t\t\t\t\t\t\t\tonClick={() => this.addTime(time, column)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</td>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn arr;\r\n\t}\r\n\r\n\trenderTimeRow() {\r\n\t\tconst { cellHeight, startDay, endDay, hourSplit } = this.settings;\r\n\t\tlet arr = [];\r\n\t\tfor (let i = startDay; i < endDay; i += hourSplit) {\r\n\t\t\tlet el = (\r\n\t\t\t\t<tr key={i}>\r\n\t\t\t\t\t<td style={{height: cellHeight + \"px\"}}>\r\n\t\t\t\t\t\t<span>{Number.isInteger(i) ? this.timeToStringParser(i) : null}</span>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t{this.renderTimeCell(i)}\r\n\t\t\t\t</tr>\r\n\t\t\t);\r\n\t\t\tarr.push(el);\r\n\t\t}\r\n\t\treturn arr;\r\n\t}\r\n\r\n\tsetSettings() {\r\n\t\t// Default settings || props settings\r\n\t\tthis.settings = this.props.settings ? { ...settings,\t...this.props.settings } : settings;\r\n\r\n\t\t// Assigning 12 || 24 hour format\r\n\t\tthis.timeToStringParser = timeToStringParser(this.settings.is12hours)\r\n\t\tthis.timeToIntParser = timeToIntParser(this.settings.is12hours)\r\n\r\n\t\tthis.settings.startDay = this.timeToIntParser(this.settings.startDay);\r\n\t\tthis.settings.endDay = this.timeToIntParser(this.settings.endDay);\r\n\t}\r\n\r\n\trender() {\r\n\t\tthis.setSettings();\r\n\t\tconst { columnCnt } = this.settings;\r\n\t\tconst { className } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<div data-test=\"Timetable\" className={`${styles.Timetable} ${className}` || styles.Timetable}>\r\n\t\t\t\t<table>\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th><span>Time</span></th>\r\n\t\t\t\t\t\t\t{(() => {\r\n\t\t\t\t\t\t\t\tlet arr = [];\r\n\t\t\t\t\t\t\t\tfor (let i = 0; i < columnCnt; i++) {\r\n\t\t\t\t\t\t\t\t\tarr.push(<th key={i}><span>{i + 1}</span></th>);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn arr;\r\n\t\t\t\t\t\t\t})()}\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>{this.renderTimeRow()}</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nTimetable.propTypes = {\r\n\tsettings: PropTypes.shape({\r\n\t\tcellHeight: PropTypes.number,\r\n\t\tstartDay: PropTypes.string,\r\n\t\tendDay: PropTypes.string,\r\n\t\thourSplit: PropTypes.number,\r\n\t\tcolumnCnt: PropTypes.number,\r\n\t\tis12hours: PropTypes.bool\r\n\t}),\r\n\treserved: PropTypes.array,\r\n\tclassName: PropTypes.string,\r\n\tclassNameSavedTime: PropTypes.string,\r\n\tonAddTime: PropTypes.func,\r\n\tonSaveTime: PropTypes.func\r\n};\r\n\r\nexport default Timetable;\r\n"],"names":["timeToStringParser","timeStr","time","toString","m","includes","hourPart","slice","indexOf","h","parseInt","parsedTime","is12hours","tConv12","timeToIntParser","tConv24","timeArr","split","ts","time24","H","substr","ampm","time12h","modifier","hours","minutes","ID","Math","random","ReservedTime","cellHeight","className","content","hourSplit","removeReserved","blockHeight","end","start","style","timeParser","React","styles","ReservedTime__delete","id","ClearIcon","parsedStart","parsedEnd","settings","Timetable","props","state","reserved","addTime","bind","resetTime","addToReserved","removeFromReserved","updatedReserved","filter","item","setState","activeColumn","newStartTime","newEndTime","isNewTimeValid","newTime","valid","i","length","column","newReserved","onSaveTime","newTimeObj","onAddTime","bool","columnCnt","shouldAddButtonRendered","isTimeReserved","cellStatus","status","cellReservedStatus","cellColumn","getReservedTime","arr","push","TimeCell","TimeCell__wrapper","classNameSavedTime","savedTimeContent","TimeCell__clear","TimeCell__save","TimeCell__button","startDay","endDay","el","height","isInteger","renderTimeCell","setSettings","renderTimeRow","Component","propTypes","PropTypes","shape","number","string","array","func"],"mappings":"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"}